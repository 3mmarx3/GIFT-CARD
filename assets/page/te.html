<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تحديد العملة</title>
    <link rel="stylesheet" href="../css/app.css" />
    <style>
      .s-modal-wrapper {
        display: none;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }

      .s-modal-body {
        background-color: #fff;
        border-radius: 8px;
        padding: 20px;
        max-width: 400px;
        width: 100%;
        position: relative;
        text-align: right;
      }

      .s-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .s-modal-close {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.2em;
        color: #333;
      }

      .s-localization-modal-inner {
        margin-top: 20px;
      }

      .s-localization-modal-section {
        margin-bottom: 20px;
      }

      .s-localization-modal-title {
        font-weight: bold;
        font-size: 1.1em;
        margin-bottom: 10px;
      }

      .s-localization-modal-item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }

      .s-localization-modal-input {
        margin-right: 10px;
      }

      .s-localization-modal-label {
        font-size: 1em;
      }

      .s-button-wrap {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }

      .s-button-element {
        padding: 10px 20px;
        font-size: 1em;
        border-radius: 4px;
        border: none;
        color: #fff;
        background-color: #007bff;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .s-button-element:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <button onclick="openModal()">تغيير العملة</button>
    <p>السعر: <span class="price" data-amount="10">10 EGP</span></p>
    <p>السعر: <span class="price" data-amount="20">20 EGP</span></p>

    <div class="s-modal-wrapper">
      <div class="s-modal-body">
        <div class="s-modal-header">
          <label class="s-localization-modal-title">العملة</label>
          <button class="s-modal-close" type="button" onclick="closeModal()">
            ✕
          </button>
        </div>
        <div class="s-localization-modal-inner">
          <div class="s-localization-modal-section">
            <div class="s-localization-modal-section-inner">
              <div class="s-localization-modal-item">
                <input
                  type="radio"
                  name="currency"
                  id="currency-AED"
                  value="AED"
                />
                <label class="s-localization-modal-label" for="currency-AED"
                  >درهم إماراتي (AED)</label
                >
              </div>
              <div class="s-localization-modal-item">
                <input
                  type="radio"
                  name="currency"
                  id="currency-KWD"
                  value="KWD"
                />
                <label class="s-localization-modal-label" for="currency-KWD"
                  >دينار كويتي (KWD)</label
                >
              </div>
              <div class="s-localization-modal-item">
                <input
                  type="radio"
                  name="currency"
                  id="currency-QAR"
                  value="QAR"
                />
                <label class="s-localization-modal-label" for="currency-QAR"
                  >ريال قطري (QAR)</label
                >
              </div>
              <div class="s-localization-modal-item">
                <input
                  type="radio"
                  name="currency"
                  id="currency-SAR"
                  value="SAR"
                />
                <label class="s-localization-modal-label" for="currency-SAR"
                  >ريال سعودي (SAR)</label
                >
              </div>
            </div>
          </div>
          <div class="s-button-wrap">
            <button
              type="button"
              class="s-button-element"
              onclick="submitCurrency()"
            >
              موافق
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      function openModal() {
        document.querySelector(".s-modal-wrapper").style.display = "flex";
      }

      function closeModal() {
        document.querySelector(".s-modal-wrapper").style.display = "none";
      }

      function submitCurrency() {
        const selectedCurrency = document.querySelector(
          'input[name="currency"]:checked'
        );
        if (selectedCurrency) {
          updatePrices(selectedCurrency.value);
          closeModal();
        } else {
          alert("يرجى اختيار عملة قبل المتابعة");
        }
      }

      function updatePrices(currency) {
        const exchangeRates = {
          AED: 1.0,
          KWD: 0.082,
          QAR: 1.01,
          SAR: 1.02,
          EGP: 1.0,
        };

        const prices = document.querySelectorAll(".price");
        prices.forEach((price) => {
          const amount = price.getAttribute("data-amount");
          const convertedAmount = (amount * exchangeRates[currency]).toFixed(2);
          price.textContent = `${convertedAmount} ${currency}`;
        });
      }
    </script>
  </body>
</html>
